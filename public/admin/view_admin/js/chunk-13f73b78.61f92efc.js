(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13f73b78"],{"3f20":function(t,e,a){"use strict";var r=a("f530"),n=a.n(r);n.a},"52cb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Form",{ref:"formValidate",attrs:{"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{gutter:16,type:"flex"}},[a("Col",{staticStyle:{"line-height":"40px"},attrs:{xs:10,sm:12,md:16,lg:18}},[a("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("Col",{staticClass:"shtitle",attrs:{span:"7"}},[a("span",{staticClass:"shtitle"},[t._v("姓名 ")])]),a("Col",{attrs:{span:"17"}},[a("Input",{staticClass:"shinput",attrs:{placeholder:"请输入","element-id":"name",clearable:""},model:{value:t.formValidate.real_name,callback:function(e){t.$set(t.formValidate,"real_name",e)},expression:"formValidate.real_name"}})],1)],1),a("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("Col",{staticClass:"shtitle",attrs:{span:"7"}},[a("span",{staticClass:"shtitle"},[t._v("手机号 ")])]),a("Col",{attrs:{span:"17"}},[a("Input",{staticClass:"shinput",attrs:{placeholder:"请输入","element-id":"name",clearable:""},model:{value:t.formValidate.phone,callback:function(e){t.$set(t.formValidate,"phone",e)},expression:"formValidate.phone"}})],1)],1),a("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("Col",{staticClass:"shtitle",attrs:{span:"7"}},[a("span",{staticClass:"shtitle"},[t._v("角色 ")])]),a("Col",{attrs:{span:"17"}},[a("Input",{staticClass:"shinput",attrs:{placeholder:"请输入","element-id":"name",clearable:""},model:{value:t.formValidate.roles_text,callback:function(e){t.$set(t.formValidate,"roles_text",e)},expression:"formValidate.roles_text"}})],1)],1)],1),a("Col",{staticClass:"ivu-text-right userFrom",attrs:{xs:14,sm:12,md:8,lg:6}},[a("Button",{staticClass:"mr15",attrs:{type:"primary",icon:"ios-search",label:"default"},on:{click:t.Searchs}},[t._v("搜索")]),a("Button",{staticClass:"ResetSearch",on:{click:function(e){return t.reset("quarantine")}}},[t._v("重置")])],1)],1)],1),a("Form",[a("Row",{staticClass:"mt20",attrs:{type:"flex"}},[a("Button",{staticClass:"bnt mr15",attrs:{type:"primary",icon:"md-add"},on:{click:function(e){return t.goadd()}}},[t._v("\n          添加管理员\n        ")])],1)],1),a("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.list,"no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果",loading:t.loading,"highlight-row":""},scopedSlots:t._u([{key:"index",fn:function(e){e.row;var r=e.index;return[a("span",[t._v(" "+t._s(r+1)+" ")])]}},{key:"action",fn:function(e){var r=e.row,n=e.index;return[a("a",{on:{click:function(e){return t.goedit(r)}}},[t._v("编辑")]),a("span",[t._v(" ")]),a("a",{on:{click:function(e){return t.deleteSmping(r,"删除",n)}}},[t._v("删除")])]}}])}),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:t.total,current:t.formValidate.page,"show-elevator":"","show-total":"","show-sizer":"","page-size-opts":[5,10,15,20],"page-size":t.formValidate.size},on:{"on-page-size-change":t.sizeChange,"on-change":t.pageChange}})],1),a("Modal",{attrs:{title:t.edittitle,width:"550","class-name":"vertical-center-modal"},model:{value:t.editmodal,callback:function(e){t.editmodal=e},expression:"editmodal"}},[a("Form",{ref:"editformValidate",attrs:{model:t.editformValidate,rules:t.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"姓名",prop:"real_name"}},[a("Input",{staticStyle:{width:"380px"},attrs:{placeholder:"姓名"},model:{value:t.editformValidate.real_name,callback:function(e){t.$set(t.editformValidate,"real_name",e)},expression:"editformValidate.real_name"}})],1),a("FormItem",{attrs:{label:"手机号",prop:"phone"}},[a("Input",{staticStyle:{width:"380px"},attrs:{placeholder:"手机号"},model:{value:t.editformValidate.phone,callback:function(e){t.$set(t.editformValidate,"phone",e)},expression:"editformValidate.phone"}})],1),a("FormItem",{attrs:{label:"角色",prop:"role"}},[a("Select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.editformValidate.roleList,callback:function(e){t.$set(t.editformValidate,"roleList",e)},expression:"editformValidate.roleList"}},t._l(t.roleList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v("\n              "+t._s(e.role_name)+"\n            ")])})),1)],1),0===t.roleid?a("FormItem",{attrs:{label:"密码",prop:"firstpwd"}},[a("Input",{staticStyle:{width:"380px"},attrs:{placeholder:"密码"},model:{value:t.editformValidate.firstpwd,callback:function(e){t.$set(t.editformValidate,"firstpwd",e)},expression:"editformValidate.firstpwd"}})],1):t._e(),0===t.roleid?a("FormItem",{attrs:{label:"确认密码",prop:"pwd"}},[a("Input",{staticStyle:{width:"380px"},attrs:{placeholder:"确认密码"},model:{value:t.editformValidate.pwd,callback:function(e){t.$set(t.editformValidate,"pwd",e)},expression:"editformValidate.pwd"}})],1):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("editformValidate")}}},[t._v("提交")])],1)],1)],1)],1)},n=[];function i(t){var e=t.reduce((function(t,e){return t+=e+",",t}),"");return e=e.slice(0,e.length-1),e}var o=a("2f62"),l=a("8593"),s=a("90e7"),c=a("d00d");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(a,!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m={name:"system-operatormanage",mixins:[c["a"]],data:function(){var t=this,e=function(e,a,r){""===a&&r(new Error("请再次输入密码")),t.editformValidate.firstpwd===a?r():r(new Error("密码输入不一致"))};return{roleid:0,editformValidate:{},edittitle:"管理员编辑",editmodal:!1,ruleValidate:{phone:[{required:!0,message:"必填",trigger:"blur"}],firstpwd:[{required:!0,message:"请输入密码",trigger:"blur"}],pwd:[{validator:e,trigger:"blur"}]},roleList:[],list:[],loading:!1,columns:[{title:"序号",slot:"index",minWidth:50},{title:"姓名",key:"real_name",minWidth:70},{title:"手机号",key:"phone",minWidth:70},{title:"角色",key:"roles_text",minWidth:70},{title:"操作",slot:"action",minWidth:70}],total:0,timeVal:[],formValidate:{page:1,size:10}}},computed:u({},Object(o["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:50},labelPosition:function(){return this.isMobile?"top":"left"}}),created:function(){},mounted:function(){this.reset(),this.roleListFun()},methods:{reset:function(){this.timeVal=[],this.formValidate={page:1,size:10},this.getSmpling()},getSmpling:function(){var t=this;this.loading=!0,Object(l["t"])(this.formValidate).then((function(e){t.loading=!1,t.list=e.data.data.data,t.total=e.data.data.total}))},Searchs:function(){this.formValidate.page=1,this.getSmpling()},sizeChange:function(t){this.formValidate.size=t,this.getSmpling(),this.$refs.table.clearCurrentRow()},pageChange:function(t){this.formValidate.page=t,this.getSmpling()},goedit:function(t){this.editformValidate=t,this.editformValidate.roleList=t.roles.reduce((function(t,e){return t.push(parseInt(e)),t}),[]),this.roleid=t.id,this.edittitle="修改管理员",this.editmodal=!0},handleSubmit:function(t){var e=this,a=this;0===this.roleid?this.$refs[t].validate((function(t){if(t){var r=e.editformValidate.roleList;1===r.length?e.editformValidate.roles=r[0]:e.editformValidate.roles=i(r),Object(l["H"])(e.editformValidate).then((function(t){200===t.data.code?(e.$Message.config({top:120,duration:3}),a.$Message.success(t.data.msg),e.editmodal=!1,e.getSmpling()):(e.$Message.config({top:120,duration:3}),a.$Message.error(t.data.msg))})).catch((function(t){console.log(t)}))}})):this.$refs[t].validate((function(t){if(t){var r=e.editformValidate.roleList;1===r.length?e.editformValidate.roles=r[0]:e.editformValidate.roles=i(r),Object(l["I"])(e.roleid,e.editformValidate).then((function(t){200===t.data.code?(e.$Message.config({top:120,duration:3}),a.$Message.success(t.data.msg),e.editmodal=!1,e.getSmpling()):(e.$Message.config({top:120,duration:3}),a.$Message.error(t.data.msg))}))}}))},deleteSmping:function(t,e,a){var r=this;Object(l["m"])(t.id).then((function(t){console.log(t),200==t.data.code?(r.$Message.success(t.data.msg),r.list.splice(a,1),r.getSmpling()):r.$Message.error(t.data.msg)})).catch((function(t){r.$Message.error(t.data.msg)}))},goadd:function(){this.roleid=0,this.edittitle="新增管理员",this.editformValidate={},this.editmodal=!0},roleListFun:function(){var t=this;Object(s["u"])().then((function(e){t.roleList=e.data.list})).catch((function(t){console.log(t)}))}}},p=m,h=(a("3f20"),a("2877")),g=Object(h["a"])(p,r,n,!1,null,"51550b93",null);e["default"]=g.exports},"90e7":function(t,e,a){"use strict";a.d(e,"f",(function(){return n})),a.d(e,"e",(function(){return i})),a.d(e,"u",(function(){return o})),a.d(e,"v",(function(){return l})),a.d(e,"s",(function(){return s})),a.d(e,"t",(function(){return c})),a.d(e,"r",(function(){return d})),a.d(e,"l",(function(){return u})),a.d(e,"p",(function(){return f})),a.d(e,"o",(function(){return m})),a.d(e,"g",(function(){return p})),a.d(e,"q",(function(){return h})),a.d(e,"i",(function(){return g})),a.d(e,"n",(function(){return b})),a.d(e,"h",(function(){return w})),a.d(e,"d",(function(){return v})),a.d(e,"a",(function(){return O})),a.d(e,"b",(function(){return V})),a.d(e,"c",(function(){return j})),a.d(e,"B",(function(){return _})),a.d(e,"w",(function(){return y})),a.d(e,"x",(function(){return k})),a.d(e,"m",(function(){return x})),a.d(e,"j",(function(){return C})),a.d(e,"y",(function(){return S})),a.d(e,"z",(function(){return $})),a.d(e,"A",(function(){return M})),a.d(e,"k",(function(){return I}));var r=a("b6bd");function n(t){return Object(r["a"])({url:"setting/config/header_basics",method:"get",params:t})}function i(t,e){return Object(r["a"])({url:e,method:"get",params:t})}function o(t){return Object(r["a"])({url:"setting/role",method:"GET",params:t})}function l(t){return Object(r["a"])({url:"setting/role/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function s(t){return Object(r["a"])({url:"setting/role/".concat(t.id),method:"post",data:t})}function c(t){return Object(r["a"])({url:"setting/role/".concat(t,"/edit"),method:"get"})}function d(){return Object(r["a"])({url:"setting/role/create",method:"get"})}function u(t){return Object(r["a"])({url:"app/wechat/kefu",method:"get",params:t})}function f(t){return Object(r["a"])({url:"app/wechat/kefu/create",method:"get",params:t})}function m(){return Object(r["a"])({url:"app/wechat/kefu/add",method:"get"})}function p(t){return Object(r["a"])({url:"app/wechat/kefu",method:"post",data:t})}function h(t){return Object(r["a"])({url:"app/wechat/kefu/set_status/".concat(t.id,"/").concat(t.account_status),method:"PUT"})}function g(t){return Object(r["a"])({url:"app/wechat/kefu/".concat(t,"/edit"),method:"GET"})}function b(t,e){return Object(r["a"])({url:"app/wechat/kefu/record/".concat(e),method:"GET",params:t})}function w(t){return Object(r["a"])({url:"app/wechat/kefu/chat_list",method:"GET",params:t})}function v(t){return Object(r["a"])({url:"setting/city/list/".concat(t),method:"get"})}function O(t){return Object(r["a"])({url:"setting/city/add/".concat(t),method:"get"})}function V(t){return Object(r["a"])({url:"setting/city/".concat(t,"/edit"),method:"get"})}function j(){return Object(r["a"])({url:"setting/city/clean_cache",method:"get"})}function _(t){return Object(r["a"])({url:"app/wechat/speechcraft",method:"get",params:t})}function y(){return Object(r["a"])({url:"app/wechat/speechcraft/create",method:"get"})}function k(t){return Object(r["a"])({url:"app/wechat/speechcraft/".concat(t,"/edit"),method:"get"})}function x(t){return Object(r["a"])({url:"app/wechat/kefu/login/".concat(t),method:"get"})}function C(t){return Object(r["a"])({url:"app/feedback",method:"get",params:t})}function S(){return Object(r["a"])({url:"app/wechat/speechcraftcate",method:"get"})}function $(){return Object(r["a"])({url:"app/wechat/speechcraftcate/create",method:"get"})}function M(t){return Object(r["a"])({url:"app/wechat/speechcraftcate/".concat(t,"/edit"),method:"get"})}function I(t){return Object(r["a"])({url:"app/feedback/".concat(t,"/edit"),method:"get"})}},f530:function(t,e,a){}}]);