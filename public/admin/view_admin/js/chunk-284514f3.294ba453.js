(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-284514f3"],{"29a92":function(e,t,n){"use strict";var i=n("d96e"),a=n.n(i);a.a},"3e2a":function(e,t,n){"use strict";var i=n("bc62"),a=n.n(i);a.a},4127:function(e,t,n){"use strict";var i=n("d233"),a=n("b313"),r=Object.prototype.hasOwnProperty,o={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,l=Array.prototype.push,c=function(e,t){l.apply(e,s(t)?t:[t])},u=Date.prototype.toISOString,f=a["default"],d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:a.formatters[f],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},m=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},p=function e(t,n,a,r,o,l,u,f,p,h,y,g,b){var v=t;if("function"===typeof u?v=u(n,v):v instanceof Date?v=h(v):"comma"===a&&s(v)&&(v=v.join(",")),null===v){if(r)return l&&!g?l(n,d.encoder,b,"key"):n;v=""}if(m(v)||i.isBuffer(v)){if(l){var _=g?n:l(n,d.encoder,b,"key");return[y(_)+"="+y(l(v,d.encoder,b,"value"))]}return[y(n)+"="+y(String(v))]}var k,w=[];if("undefined"===typeof v)return w;if(s(u))k=u;else{var x=Object.keys(v);k=f?x.sort(f):x}for(var O=0;O<k.length;++O){var C=k[O];o&&null===v[C]||(s(v)?c(w,e(v[C],"function"===typeof a?a(n,C):n,a,r,o,l,u,f,p,h,y,g,b)):c(w,e(v[C],n+(p?"."+C:"["+C+"]"),a,r,o,l,u,f,p,h,y,g,b)))}return w},h=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a["default"];if("undefined"!==typeof e.format){if(!r.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=a.formatters[n],o=d.filter;return("function"===typeof e.filter||s(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:o,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var n,i,a=e,r=h(t);"function"===typeof r.filter?(i=r.filter,a=i("",a)):s(r.filter)&&(i=r.filter,n=i);var l,u=[];if("object"!==typeof a||null===a)return"";l=t&&t.arrayFormat in o?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=o[l];n||(n=Object.keys(a)),r.sort&&n.sort(r.sort);for(var d=0;d<n.length;++d){var m=n[d];r.skipNulls&&null===a[m]||c(u,p(a[m],m,f,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.formatter,r.encodeValuesOnly,r.charset))}var y=u.join(r.delimiter),g=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}},4328:function(e,t,n){"use strict";var i=n("4127"),a=n("9e6a"),r=n("b313");e.exports={formats:r,parse:a,stringify:i}},"5f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("a78e"),a=n.n(i),r="admin-token";function o(){return a.a.get(r)}},"7ee8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[n("Form",{ref:"formValidate",attrs:{"label-width":e.labelWidth,"label-position":e.labelPosition},nativeOn:{submit:function(e){e.preventDefault()}}},[n("Row",{attrs:{gutter:16,type:"flex"}},[n("Col",{staticStyle:{"line-height":"40px"},attrs:{xs:10,sm:12,md:16,lg:18}},[n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("义乌街道 ")])]),n("Col",{attrs:{span:"17"}},[n("Select",{staticClass:"shinput",attrs:{placeholder:"义乌街道"},on:{"on-change":e.streetIdChang},model:{value:e.formValidate.yw_street_id,callback:function(t){e.$set(e.formValidate,"yw_street_id",t)},expression:"formValidate.yw_street_id"}},e._l(e.yiwuStreetList,(function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1)],1),n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("员工姓名")])]),n("Col",{attrs:{span:"17"}},[n("Input",{staticClass:"shinput",attrs:{placeholder:"请输入完整员工姓名","element-id":"name",clearable:""},model:{value:e.formValidate.user_name,callback:function(t){e.$set(e.formValidate,"user_name",t)},expression:"formValidate.user_name"}})],1)],1),n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("社区")])]),n("Col",{attrs:{span:"17"}},[n("Select",{staticClass:"shinput",attrs:{placeholder:"社区"},model:{value:e.formValidate.community,callback:function(t){e.$set(e.formValidate,"community",t)},expression:"formValidate.community"}},e._l(e.communityListData,(function(t){return n("Option",{key:t.id,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("企业类别")])]),n("Col",{attrs:{span:"17"}},[n("Select",{staticClass:"shinput",attrs:{placeholder:"企业类别"},on:{"on-change":e.staffcompany},model:{value:e.formValidate.classify_id,callback:function(t){e.$set(e.formValidate,"classify_id",t)},expression:"formValidate.classify_id"}},e._l(e.classifyData,(function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.classify_name))])})),1)],1)],1),n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("员工类别")])]),n("Col",{attrs:{span:"17"}},[n("Select",{staticClass:"shinput",attrs:{placeholder:"员工类别"},model:{value:e.formValidate.staff_classify_id,callback:function(t){e.$set(e.formValidate,"staff_classify_id",t)},expression:"formValidate.staff_classify_id"}},e._l(e.staffClassifyData,(function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.yiwu_name))])})),1)],1)],1),n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("企业名称")])]),n("Col",{attrs:{span:"17"}},[n("el-select",{staticClass:"shinput elSelect",attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入完整的企业名称","remote-method":e.searchTree,loading:e.inputloading},model:{value:e.formValidate.company_name,callback:function(t){e.$set(e.formValidate,"company_name",t)},expression:"formValidate.company_name"}},e._l(e.queryData,(function(e){return n("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1)],1),[n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("员工手机号")])]),n("Col",{attrs:{span:"17"}},[n("Input",{staticClass:"shinput",attrs:{placeholder:"请输入完整的员工手机号","element-id":"id_card",clearable:""},model:{value:e.formValidate.user_phone,callback:function(t){e.$set(e.formValidate,"user_phone",t)},expression:"formValidate.user_phone"}})],1)],1),n("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[n("Col",{staticClass:"shtitle",attrs:{span:"5"}},[n("span",{staticClass:"shtitle"},[e._v("员工身份证")])]),n("Col",{attrs:{span:"17"}},[n("Input",{staticClass:"shinput",attrs:{placeholder:"请输入完整的员工身份证","element-id":"link_man",clearable:""},model:{value:e.formValidate.user_idcard,callback:function(t){e.$set(e.formValidate,"user_idcard",t)},expression:"formValidate.user_idcard"}})],1)],1)]],2),n("Col",{staticClass:"ivu-text-right userFrom",attrs:{xs:14,sm:12,md:8,lg:6}},[n("Button",{staticClass:"mr15",attrs:{type:"primary",icon:"ios-search",label:"default"},on:{click:e.Searchs}},[e._v("搜索")]),n("Button",{staticClass:"ResetSearch",on:{click:function(t){return e.reset("leave")}}},[e._v("重置")]),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{to:{path:"/admin/company/list"}}},[e._v("返回")])],1)],1)],1),n("Row",{attrs:{type:"flex"}},[n("Button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:e.setyiwuame}},[e._v("批量设置员工类型")])],1),n("Table",{ref:"table",staticClass:"mt25",attrs:{columns:1==e.isshowcardid?e.columns1:e.columns2,data:e.list,"no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果",loading:e.loading,"highlight-row":""},on:{"on-selection-change":e.onSelectTab,"on-sort-change":e.sortChanged,"on-select-all":e.selectAll,"on-select-all-cancel":e.selectAll,"on-select-cancel":e.selectAll},scopedSlots:e._u([{key:"index",fn:function(t){t.row;var i=t.index;return[n("span",[e._v(" "+e._s(i+1)+" ")])]}},{key:"action",fn:function(t){var i=t.row,a=t.index;return[n("a",{attrs:{size:"small"},on:{click:function(t){return e.deleteSmping(i,"删除"+i.user_name+"信息",a)}}},[e._v("删除员工")])]}}])}),n("div",{staticClass:"acea-row row-right page"},[n("Page",{attrs:{total:e.total,current:e.formValidate.page,"show-elevator":"","show-total":"","show-sizer":"","page-size-opts":[5,10,15,20],"page-size":e.formValidate.size},on:{"on-page-size-change":e.sizeChange,"on-change":e.pageChange}})],1),n("Modal",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column"},attrs:{title:"查看二维码"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[n("img",{attrs:{src:e.srcList,alt:"",sizes:"",srcset:""}}),n("div",[e._v("机构名称:"+e._s(e.select_name))])]),n("Modal",{attrs:{scrollable:"","footer-hide":"",closable:"",title:"设置检测频率","mask-closable":!1,width:"600"},on:{"on-cancel":e.onCancel1},model:{value:e.showcheck,callback:function(t){e.showcheck=t},expression:"showcheck"}},[n("Form",{ref:"formInline",attrs:{model:e.formInline,"label-width":90,"label-position":e.labelPosition2},nativeOn:{submit:function(e){e.preventDefault()}}},[n("FormItem",{attrs:{label:"检测频率：",prop:"check_frequency"}},[n("Select",{staticStyle:{width:"200px"},model:{value:e.formInline.check_frequency,callback:function(t){e.$set(e.formInline,"check_frequency",t)},expression:"formInline.check_frequency"}},[n("Option",{attrs:{value:"2"}},[e._v("2天")]),n("Option",{attrs:{value:"7"}},[e._v("7天")]),n("Option",{attrs:{value:"14"}},[e._v("14天")]),n("Option",{attrs:{value:"28"}},[e._v("28天")]),n("Option",{attrs:{value:"70"}},[e._v("70天")])],1)],1),n("Button",{attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v("提交")])],1)],1),n("Modal",{attrs:{title:"设置人员类型",width:"450",closable:"",scrollable:"","footer-hide":"","mask-closable":!1},model:{value:e.showyiwuame,callback:function(t){e.showyiwuame=t},expression:"showyiwuame"}},[n("Form",{ref:"formyiwuname",attrs:{model:e.formyiwuname,"label-width":90,"label-position":e.labelPosition2},nativeOn:{submit:function(e){e.preventDefault()}}},[n("FormItem",{attrs:{label:"员工类型",prop:"check_frequency"}},[n("Select",{staticClass:"shinput",staticStyle:{width:"200px"},attrs:{placeholder:"员工类别"},model:{value:e.formyiwuname.staff_classify_id,callback:function(t){e.$set(e.formyiwuname,"staff_classify_id",t)},expression:"formyiwuname.staff_classify_id"}},e._l(e.modalstaffClassifyData,(function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.yiwu_name))])})),1)],1),n("Button",{staticStyle:{width:"100px","margin-left":"50%",transform:"translate(-50%, 0)"},attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit("formyiwuname")}}},[e._v("提交")])],1)],1)],1)],1)},a=[],r=n("a34a"),o=n.n(r),s=n("2f62"),l=n("8593"),c=n("4328"),u=n.n(c),f=n("fcac"),d=(n("2e83"),n("5f87")),m=n("3f2a"),p=n("d00d");function h(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){h(r,i,a,o,s,"next",e)}function s(e){h(r,i,a,o,s,"throw",e)}o(void 0)}))}}function g(e){return _(e)||v(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={name:"company_allstafflist",mixins:[p["a"]],data:function(){var e=this;return{showoption:!1,querycolumns:[{title:"姓名",key:"name",width:200}],commpanyList:[{name:"gsmc1",id:1},{name:"gsmc2",id:2},{name:"gsmc3",id:3},{name:"gsmc4",id:4},{name:"gsmc5",id:5}],formInline:{ids:",",check_frequency:"70"},formyiwuname:{staff_classify_id:"",company_staff_ids:","},classifyData:[],staffClassifyData:[],modalstaffClassifyData:[],communityListData:[],button_loading:!1,collapse:!1,token:"Bearer "+Object(d["a"])(),modal1:!1,fileurlL:"/adminapi/file/tmp/upload?token="+Object(d["a"])(),grid:{xl:7,lg:7,md:12,sm:24,xs:24},total:0,loading:!1,roleData:{status1:""},dataList:[],formValidate:{page:1,size:10,yw_street_id:"",company_name:""},list:[],formSelection:[],selectionList:[],display:"none",isAll:-1,checkBox:!1,selectionCopy:[],columns1:[{width:60,align:"center",renderHeader:function(t,n){return t("div",{class:{"select-panel":!0},on:{mouseenter:function(t){e.display="block"},mouseleave:function(t){e.display="none"}}},[t("Checkbox",{props:{value:e.checkBox},on:{"on-change":function(t){e.checkBox=t,e.$refs.table.selectAll(e.checkBox),e.isAll=t?0:-1}}})])},render:function(t,n){return t("Checkbox",{props:{value:n.row.checkBox},on:{"on-change":function(t){t?e.formSelection.push(n.row):(e.checkBox=!1,e.formSelection.forEach((function(t,i){t.id===n.row.id&&e.formSelection.splice(i,1)}))),e.ids=e.formSelection.map((function(e){return e.id})),n.row.checkBox=t,e.list[n.index].checkBox=t}},ref:"checkbox",refInFor:!0})}},{title:"序号",slot:"index",align:"center",minWidth:50},{title:"企业名称",key:"company_name",align:"center",minWidth:120},{title:"联络员",key:"link_name",align:"center",minWidth:60},{title:"联系电话",key:"link_phone",align:"center",minWidth:100},{title:"检测频次",key:"check_frequency",align:"center",minWidth:80},{title:"地址",key:"addr",align:"center",minWidth:120},{title:"员工类型",key:"staff_classify_name",align:"center",minWidth:150},{title:"企业类型",key:"classify_name",align:"center",minWidth:60},{title:"员工姓名",key:"user_name",align:"center",minWidth:60},{title:"员工手机号",key:"user_phone",align:"center",minWidth:100},{title:"员工身份证号",key:"user_idcard",align:"center",width:140},{title:"所属街道",key:"yw_street",align:"center",minWidth:60},{title:"社区",key:"community",align:"center",minWidth:100},{title:"核酸检测时间",key:"hsjc_time",align:"center",minWidth:130},{title:"第二次核酸检测时间",key:"hsjc_previous_time",align:"center",minWidth:130},{title:"扫码时间",key:"create_time",align:"center",minWidth:130},{title:"操作",slot:"action",align:"center",width:80}],columns2:[{width:60,align:"center",renderHeader:function(t,n){return t("div",{class:{"select-panel":!0},on:{mouseenter:function(t){e.display="block"},mouseleave:function(t){e.display="none"}}},[t("Checkbox",{props:{value:e.checkBox},on:{"on-change":function(t){e.checkBox=t,e.$refs.table.selectAll(e.checkBox),e.isAll=t?0:-1}}})])},render:function(t,n){return t("Checkbox",{props:{value:n.row.checkBox},on:{"on-change":function(t){t?e.formSelection.push(n.row):(e.checkBox=!1,e.formSelection.forEach((function(t,i){t.id===n.row.id&&e.formSelection.splice(i,1)}))),e.ids=e.formSelection.map((function(e){return e.id})),n.row.checkBox=t,e.list[n.index].checkBox=t}},ref:"checkbox",refInFor:!0})}},{title:"序号",slot:"index",align:"center",minWidth:50},{title:"企业信用代码",key:"credit_code",align:"center",minWidth:120},{title:"企业名称",key:"company_name",align:"center",minWidth:120},{title:"联络员",key:"link_name",align:"center",minWidth:60},{title:"联系电话",key:"link_phone",align:"center",minWidth:100},{title:"检测频次",key:"check_frequency",align:"center",minWidth:80},{title:"地址",key:"addr",align:"center",minWidth:120},{title:"员工类型",key:"staff_classify_name",align:"center",minWidth:150},{title:"企业类型",key:"classify_name",align:"center",minWidth:60},{title:"员工姓名",key:"user_name",align:"center",minWidth:60},{title:"员工手机号",key:"user_phone",align:"center",minWidth:100},{title:"所属街道",key:"yw_street",align:"center",minWidth:60},{title:"社区",key:"community",align:"center",minWidth:100},{title:"核酸检测时间",key:"hsjc_time",align:"center",minWidth:130},{title:"第二次核酸检测时间",key:"hsjc_previous_time",align:"center",minWidth:130},{title:"扫码时间",key:"create_time",align:"center",minWidth:130},{title:"操作",slot:"action",align:"center",width:80}],FromData:null,modalTitleSs:"",ids:Number,srcList:[],excelDatamodals:!1,excelData:!0,select_name:"",userinfo:{},isshowcardid:!0,array_ids:[],user_ids:"",showcheck:!1,showyiwuame:!1,timer:null,queryData:[],inputloading:!1}},watch:{selectionList:function(e){var t=e.map((function(e){return e.uid}));this.array_ids=t,this.user_ids=t.join()},list:{deep:!0,handler:function(e){var t=this;e.forEach((function(e){t.selectionList.forEach((function(t){t.uid===e.uid&&(e.checkBox=!0)}))}));var n=this.list.filter((function(e){return e.checkBox}));this.list.length?this.checkBox=this.list.length===n.length:this.checkBox=!1}}},computed:w({},Object(s["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:50},labelPosition:function(){return this.isMobile?"top":"left"},labelPosition2:function(){return this.isMobile?"top":"right"}}),created:function(){this.$Message.config({top:120,duration:3}),this.get_userinfo(),this.getSmpling(),this.classify()},methods:{searchTree:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.inputloading=!0,this.timer=setTimeout((function(){Object(f["c"])({name:e}).then((function(e){t.queryData=e.data.data.data,console.log(t.queryData),clearTimeout(t.timer),t.timer=null,t.inputloading=!1}))}),300)},classify:function(){var e=this;this.loading=!0,Object(f["b"])().then((function(t){e.loading=!1;var n=t.data.data;e.classifyData=n,console.log("企业类型",n)}))},streetIdChang:function(){var e=this;this.communityListData=[],Object(f["a"])({yw_street_id:this.formValidate.yw_street_id}).then((function(t){e.loading=!1;var n=t.data.data;e.communityListData=n,console.log("社区列表",n)}))},staffcompany:function(){var e=this;Object(f["m"])({classify_id:this.formValidate.classify_id,size:100}).then((function(t){e.loading=!1;var n=t.data.data.data;e.staffClassifyData=n,console.log("员工类型",n)}))},handleSubmit:function(e){var t=this;if("formInline"==e){var n={ids:",",check_frequency:this.formInline.check_frequency};this.formSelection.forEach((function(e){n.ids=n.ids+e.id+","})),console.log(n),Object(f["f"])(n).then((function(e){var n=e.data;200==n.code?(t.$Message.success(n.msg),t.formSelection=[],t.getSmpling(),t.showcheck=!1):t.$Message.error(n.msg)}))}else if("formyiwuname"==e){n={company_staff_ids:",",staff_classify_id:this.formyiwuname.staff_classify_id};this.formSelection.forEach((function(e){n.company_staff_ids=n.company_staff_ids+e.id+","})),Object(f["g"])(n).then((function(e){var n=e.data;200==n.code?(t.$Message.success(n.msg),t.formSelection=[],t.getSmpling(),t.showyiwuame=!1):t.$Message.error(n.msg)}))}},sortChanged:function(e){this.formValidate[e.key]=e.order,this.getSmpling()},onSelectCancel:function(e,t){},onSelectTab:function(e){this.selectionList=e;var t=[];this.selectionList.map((function(e){t.push(e.uid)})),this.array_ids=t,this.user_ids=t.join(",")},setcheck:function(){this.showcheck=!0},setyiwuame:function(){var e=this,t=this.formSelection;if(t.length){var n=t.reduce((function(e,t){return e.push(t.classify_id),e}),[]);if(n=g(new Set(n)),1===n.length){var i=n[0];Object(f["m"])({classify_id:i,size:100,page:1}).then((function(t){e.modalstaffClassifyData=t.data.data.data})),this.showyiwuame=!0}else this.$Message.error("选择了多个企业类型，不能修改")}else this.$Message.error("请先选择操作的数据")},selectAll:function(e){var t=this;console.log(e,"row"),console.log("222"),e.length?(this.formSelection=e,this.selectionCopy=e):this.formSelection=[],this.selectionCopy.forEach((function(e,n){e.checkBox=t.checkBox,t.$set(t.list,n,e)}))},get_userinfo:function(){var e=y(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("admin/db/database",{user:!0});case 2:t=e.sent,n=t.get("user_info").value(),this.userinfo=n,"zuzhibu"!=this.userinfo.role_code&&"zhenjie"!=this.userinfo.role_code||(this.isshowcardid=!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exports:function(){this.getExportsApi()},getExportsApi:function(){var e=y(o.a.mark((function e(){var t,n,i,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.button_loading=!0,[],[],[],"",t=Object.assign({},this.userFrom),delete t.size,delete t.page,n=JSON.parse(JSON.stringify(t)),e.next=8,this.getExcelData(n);case 8:if(i=e.sent,400!=i.code){e.next=13;break}return this.$Message.error(i.msg),this.button_loading=!1,e.abrupt("return");case 13:return a=i.data.path,this.send_count=0,this.excelishas(a),e.abrupt("return");case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),excelishas:function(e){var t=this;if(20==this.send_count)return this.button_loading=!1,void this.$Message.error("请求失败");Object(l["G"])(e).then((function(n){if(console.log(e,"str"),200==n.data.code)t.button_loading=!1,window.open(e+"?"+Date.now());else{console.log(n.data.msg,"失败");var i=t;setTimeout((function(){i.excelishas(e),i.send_count++}),1e3)}}))},getExcelData:function(e){return new Promise((function(e,t){Object(m["r"])({}).then((function(t){return e(t.data)}))}))},reset:function(e){this.formValidate={keyword:"",page:1,size:20},this.getSmpling()},exportfuntion:function(){return console.log(this.token),"http://localhost:8080/adminapi/export/sampleOrgan?"+u.a.stringify(this.formValidate)},onCancel:function(){},onCancel1:function(){},ok:function(){},cancel:function(){},handleSuccess:function(e,t,n){var i=this,a={path:e.data.src};sampleOrganVerify(a).then((function(e){console.log(e.data.data,"resData"),i.excelDatamodals=!0,i.excelData=e.data.data,i.getSmpling()}))},openItImage:function(e,t){this.srcList=[],this.srcList=e,this.select_name=t,this.modal1=!0},getSmpling:function(){var e=this;this.loading=!0,this.formSelection=[],this.selectionList=[],this.selectionCopy=[],Object(f["l"])(this.formValidate).then((function(t){e.loading=!1,e.list=t.data.data.data,e.total=t.data.data.total,e.list.map((function(t,n){t.order=(e.formValidate.page-1)*e.formValidate.size+n+1,t.checkBox=!1}))}))},sizeChange:function(e){this.formValidate.size=e,this.getSmpling(),this.$refs.table.clearCurrentRow()},pageChange:function(e){this.formValidate.page=e,this.getSmpling()},Searchs:function(){this.formValidate.page=1,this.getSmpling()},deleteSmping:function(e,t,n){var i=this,a={title:t,num:n,url:"staff/".concat(e.id),method:"DELETE",ids:""};this.$modalSure(a).then((function(e){console.log(e),200==e.data.code?(i.$Message.success(e.data.msg),i.list.splice(n,1),i.getSmpling()):i.$Message.error(e.data.msg)})).catch((function(e){i.$Message.error(e.data.msg)}))}}},C=O,j=(n("29a92"),n("3e2a"),n("2877")),S=Object(j["a"])(C,i,a,!1,null,"15c05392",null);t["default"]=S.exports},"9e6a":function(e,t,n){"use strict";var i=n("d233"),a=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},s="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",c=function(e,t){var n,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,f),m=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&(d[n]===l?p="utf-8":d[n]===s&&(p="iso-8859-1"),m=n,n=d.length);for(n=0;n<d.length;++n)if(n!==m){var h,y,g=d[n],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(h=t.decoder(g,r.decoder,p,"key"),y=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,v),r.decoder,p,"key"),y=t.decoder(g.slice(v+1),r.decoder,p,"value")),y&&t.interpretNumericEntities&&"iso-8859-1"===p&&(y=o(y)),y&&t.comma&&y.indexOf(",")>-1&&(y=y.split(",")),a.call(c,h)?c[h]=i.combine(c[h],y):c[h]=y}return c},u=function(e,t,n){for(var i=t,a=e.length-1;a>=0;--a){var r,o=e[a];if("[]"===o&&n.parseArrays)r=[].concat(i);else{r=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);n.parseArrays||""!==s?!isNaN(l)&&o!==s&&String(l)===s&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(r=[],r[l]=i):r[s]=i:r={0:i}}i=r}return i},f=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,s=n.depth>0&&r.exec(i),l=s?i.slice(0,s.index):i,c=[];if(l){if(!n.plainObjects&&a.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}var f=0;while(n.depth>0&&null!==(s=o.exec(i))&&f<n.depth){if(f+=1,!n.plainObjects&&a.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),u(c,t,n)}},d=function(e){if(!e)return r;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?r.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?r.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:r.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:r.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:r.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:r.comma,decoder:"function"===typeof e.decoder?e.decoder:r.decoder,delimiter:"string"===typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:r.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:r.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:r.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:r.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:r.strictNullHandling}};e.exports=function(e,t){var n=d(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var a="string"===typeof e?c(e,n):e,r=n.plainObjects?Object.create(null):{},o=Object.keys(a),s=0;s<o.length;++s){var l=o[s],u=f(l,a[l],n);r=i.merge(r,u,n)}return i.compact(r)}},b313:function(e,t,n){"use strict";var i=String.prototype.replace,a=/%20/g,r=n("d233"),o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=r.assign({default:o.RFC3986,formatters:{RFC1738:function(e){return i.call(e,a,"+")},RFC3986:function(e){return String(e)}}},o)},bc62:function(e,t,n){},d233:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,a=Array.isArray,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var i=[],r=0;r<n.length;++r)"undefined"!==typeof n[r]&&i.push(n[r]);t.obj[t.prop]=i}}},s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!==typeof e[i]&&(n[i]=e[i]);return n},l=function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(a(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var o=t;return a(t)&&!a(n)&&(o=s(t,r)),a(t)&&a(n)?(n.forEach((function(n,a){if(i.call(t,a)){var o=t[a];o&&"object"===typeof o&&n&&"object"===typeof n?t[a]=e(o,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var o=n[a];return i.call(t,a)?t[a]=e(t[a],o,r):t[a]=o,t}),o)},c=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},u=function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(a){return i}},f=function(e,t,n){if(0===e.length)return e;var i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",o=0;o<i.length;++o){var s=i.charCodeAt(o);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?a+=i.charAt(o):s<128?a+=r[s]:s<2048?a+=r[192|s>>6]+r[128|63&s]:s<55296||s>=57344?a+=r[224|s>>12]+r[128|s>>6&63]+r[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&i.charCodeAt(o)),a+=r[240|s>>18]+r[128|s>>12&63]+r[128|s>>6&63]+r[128|63&s])}return a},d=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var a=t[i],r=a.obj[a.prop],s=Object.keys(r),l=0;l<s.length;++l){var c=s[l],u=r[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:r,prop:c}),n.push(u))}return o(t),e},m=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},h=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:s,assign:c,combine:h,compact:d,decode:u,encode:f,isBuffer:p,isRegExp:m,merge:l}},d96e:function(e,t,n){},fcac:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return o})),n.d(t,"s",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"n",(function(){return _})),n.d(t,"p",(function(){return k})),n.d(t,"o",(function(){return w}));var i=n("b6bd");function a(e){return Object(i["a"])({url:"company/index",method:"get",params:e})}function r(e){return Object(i["a"])({url:"company/staff",method:"get",params:e})}function o(e){return Object(i["a"])({url:"staff/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"company/unqualified",method:"get",params:e})}function l(e){return Object(i["a"])({url:"staff/check_frequency",method:"post",data:e})}function c(e){return Object(i["a"])({url:"company/batchUpdateCompanyStaffClassify",method:"post",data:e})}function u(e){return Object(i["a"])({url:"company/unqualified/sms",method:"get",params:e})}function f(e){return Object(i["a"])({url:"company/classify",method:"get",params:e})}function d(e){return Object(i["a"])({url:"company/batchUpdateCompanyClassify",method:"post",data:e})}function m(e,t){return Object(i["a"])({url:"company/classify/".concat(e),method:"put",data:t})}function p(e,t){return Object(i["a"])({url:"company/classify",method:"post",data:t})}function h(e){return Object(i["a"])({url:"company/staff/classify",method:"get",params:e})}function y(e,t){return Object(i["a"])({url:"company/staff/classify/".concat(e),method:"put",data:t})}function g(e,t){return Object(i["a"])({url:"company/staff/classify",method:"post",data:t})}function b(e){return Object(i["a"])({url:"/company/transfer_link",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/community",method:"get",params:e})}function _(e){return Object(i["a"])({url:"/admincompany/follow",method:"POST",data:e})}function k(e){return Object(i["a"])({url:"/admincompany/unfollow",method:"POST",data:e})}function w(e){return Object(i["a"])({url:"/admincompany/followed",method:"GET",params:e})}}}]);