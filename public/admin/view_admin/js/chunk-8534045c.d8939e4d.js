(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8534045c"],{"2d60":function(t,e,n){"use strict";n.r(e);var r,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-manager"},[n("div",{staticClass:"i-layout-page-header"},[n("PageHeader",{staticClass:"product_tabs",attrs:{title:"商品管理","hidden-breadcrumb":""}})],1),t.alertShow?n("Alert",{staticClass:"ivu-mt",attrs:{banner:"",closable:"",type:"warning"},on:{"on-close":t.closeAlert}},[n("router-link",{attrs:{to:"/admin/product/add_product/0"}},[t._v("您有未完成的商品添加操作，点击此处可继续添加操作？")])],1):t._e(),n("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[n("Form",{ref:"artFrom",attrs:{model:t.artFrom,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[n("Row",{attrs:{type:"flex",gutter:24}},[n("Col",t._b({},"Col",t.grid,!1),[n("FormItem",{attrs:{label:"商品搜索：","label-for":"store_name"}},[n("Input",{attrs:{search:"","enter-button":"",placeholder:"请输入商品名称,关键字,ID"},on:{"on-search":t.userSearchs},model:{value:t.artFrom.store_name,callback:function(e){t.$set(t.artFrom,"store_name",e)},expression:"artFrom.store_name"}})],1)],1)],1)],1),n("div",{staticClass:"Button"},[n("router-link",{directives:[{name:"auth",rawName:"v-auth",value:["admin-doudian-selectproduct"],expression:"['admin-doudian-selectproduct']"}],attrs:{to:"/admin/doudian/selectproduct"}},[n("Button",{staticClass:"bnt mr15",attrs:{type:"primary",icon:"md-add"},on:{click:t.cjProduct}},[t._v("添加商品")])],1)],1),n("Table",{ref:"table",staticClass:"ivu-mt",attrs:{columns:t.columns,data:t.tableList,loading:t.loading,"highlight-row":"","no-data-text":"暂无数据","no-filtered-data-text":"暂无筛选结果"},on:{"on-selection-change":t.onSelectTab,"on-select-all":t.selectAll,"on-select-all-cancel":t.selectAll},scopedSlots:t._u([{key:"id",fn:function(e){var n=e.row;return[t._v("\n        "+t._s(n.id)+"\n      ")]}},{key:"name",fn:function(e){var n=e.row;return[t._v("\n        "+t._s(n.name)+"\n      ")]}},{key:"weight",fn:function(e){var n=e.row;return[t._v("\n        "+t._s(n.weight)+"\n      ")]}},{key:"remark",fn:function(e){var n=e.row;return[t._v("\n        "+t._s(n.remark)+"\n      ")]}},{key:"create_time",fn:function(e){var n=e.row;return[t._v("\n        "+t._s(n.create_time)+"\n      ")]}},{key:"action",fn:function(e){var r=e.row;e.index;return[n("a",{on:{click:function(e){return t.edit(r)}}},[t._v("编辑")]),n("Divider",{attrs:{type:"vertical"}}),n("Divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(e){return t.fb(r.id)}}},[t._v("发布")]),n("Divider",{attrs:{type:"vertical"}}),n("Divider",{attrs:{type:"vertical"}}),0===r.status?n("a",{on:{click:function(e){return t.delIt(r.id)}}},[t._v("下架")]):t._e()]}}])}),n("div",{staticClass:"acea-row row-right page"},[n("Page",{attrs:{total:t.total,current:t.artFrom.page,"show-elevator":"","show-total":"","page-size":t.artFrom.limit},on:{"on-change":t.pageChange}})],1),n("attribute",{attrs:{attrTemplate:t.attrTemplate},on:{changeTemplate:t.changeTemplate}})],1),n("Modal",{staticClass:"Box",attrs:{"z-index":100,scrollable:"","footer-hide":"",closable:"",title:"复制淘宝、天猫、京东、苏宁、1688","mask-closable":!1,width:"1200",height:"500"},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[t.modals?n("tao-bao",{ref:"taobaos",on:{"on-close":t.onClose}}):t._e()],1),n("Modal",{attrs:{width:"360"},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[n("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),n("span",[t._v("发布提示")])],1),n("div",{staticStyle:{"text-align":"center"}},[n("p",[t._v("请选择你要发布到哪里")])]),n("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"footer"},slot:"footer"},[n("Button",{staticStyle:{width:"40%"},attrs:{type:"primary",size:"default",long:"",loading:t.modal_loading},on:{click:function(e){return t.release("false",t.releaseUid)}}},[t._v("发布到仓库")]),n("Button",{staticStyle:{width:"40%"},attrs:{type:"warning",size:"default",long:"",loading:t.modal_loading},on:{click:function(e){return t.release("true",t.releaseUid)}}},[t._v("发布到售卖")])],1)])],1)},a=[],c=n("e6c9"),i=n("ce8d"),u=n("2f62"),s=n("cebe"),l=n("cca5");function d(t){return m(t)||h(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function m(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={name:"center_productList",components:{expandRow:c["a"],attribute:i["a"],taoBao:s["a"]},computed:g({},Object(u["e"])("admin/doudian",["infoList"]),{labelWidth:function(){return this.isMobile?void 0:75},labelPosition:function(){return this.isMobile?"top":"right"}}),data:function(){var t=this;return{modal2:!1,template:!1,modals:!1,grid:{xl:6,lg:8,md:12,sm:24,xs:24},artFrom:{page:1,limit:10,cate_id:"",type:"1",store_name:"",excel:0},list:[],tableList:[],treeSelect:[],loading:!1,columns:[{type:"expand",width:50,render:function(t,e){return t(c["a"],{props:{row:e.row}})}},{width:60,align:"center",renderHeader:function(e,n){return e("div",{class:{"select-panel":!0},on:{mouseenter:function(e){t.display="block"},mouseleave:function(e){t.display="none"}}},[e("Checkbox",{props:{value:t.checkBox},on:{"on-change":function(e){t.checkBox=e,t.$refs.table.selectAll(t.checkBox),t.isAll=e?0:-1}}}),e("div",{style:{position:"absolute",top:0,zIndex:2,display:t.display,width:"80px",height:"100%",padding:"0px 0",borderRadius:"4px",backgroundColor:"#fff",boxShadow:"0 0px 5px rgba(0, 0, 0, 0.2)",transform:"translateX(25%)"}},[e("div",{class:{"select-item":!0,on:0===t.isAll},style:{padding:"1px 6px",cursor:"pointer",height:"50%"},on:{click:function(e){0===t.isAll?(t.isAll=-1,t.checkBox=!1,t.$refs.table.selectAll(t.checkBox)):(t.isAll=0,t.formSelection.length||(t.checkBox=!0,t.$refs.table.selectAll(t.checkBox))),t.display="none"}}},"选择当页"),e("div",{class:{"select-item":!0,on:1===t.isAll},style:{padding:"1px 6px",cursor:"pointer",height:"50%"},on:{click:function(e){1===t.isAll?(t.isAll=-1,t.checkBox=!1):(t.isAll=1,t.checkBox=!0),t.$refs.table.selectAll(t.checkBox),t.display="none"}}},"选择全部")])])},render:function(e,n){return e("Checkbox",{props:{value:n.row.checkBox},on:{"on-change":function(e){e?t.formSelection.push(n.row):(t.checkBox=!1,t.formSelection.forEach((function(e,r){e.id===n.row.id&&t.formSelection.splice(r,1)}))),t.ids=t.formSelection.map((function(t){return t.id})),t.isAll=t.formSelection.length?0:-1,n.row.checkBox=e,t.tableList[n.index].checkBox=e}},ref:"checkbox",refInFor:!0})}},{title:"商品ID",slot:"id",width:80},{title:"商品名称",slot:"name",minWidth:80},{title:"重量",slot:"weight",minWidth:80},{title:"描述",key:"remark",minWidth:80},{title:"创建时间",key:"create_time",minWidth:90},{title:"操作",slot:"action",fixed:"right",minWidth:220}],data:[],total:0,attrTemplate:!1,ids:[],display:"none",formSelection:[],selectionCopy:[],checkBox:!1,isAll:-1,data1:[],value1:[],alertShow:!1,releaseUid:"",modal_loading:!1}},watch:{$route:function(){"/admin/product/product_list?type=5"===this.$route.fullPath&&this.getPath()},formSelection:function(t){},tableList:{deep:!0,handler:function(t){var e=this;t.forEach((function(t){e.formSelection.forEach((function(e){e.id===t.id&&(t.checkBox=!0)}))}));var n=this.tableList.filter((function(t){return t.checkBox}));this.tableList.length?this.checkBox=this.tableList.length===n.length:this.checkBox=!1}}},created:function(){},mounted:function(){this.getDataList()},methods:(r={delIt:function(){},closeAlert:function(){var t=this;cacheDelete().then((function(e){t.$Message.success(e.msg)})).catch((function(e){t.$Message.error(e.msg)}))},selectAll:function(t){var e=this;t.length&&(this.formSelection=t,this.selectionCopy=t),this.selectionCopy.forEach((function(t,n){t.checkBox=e.checkBox,e.$set(e.tableList,n,t)}))},getPath:function(){this.columns2=d(this.columns),"1"!==name&&"2"!==name&&this.columns2.shift({type:"selection",width:60,align:"center"}),this.artFrom.page=1,this.artFrom.type=this.$route.query.type.toString(),this.getDataList()},exports:function(){var t=this,e=this.artFrom,n={};0===this.isAll?n.ids=this.ids.join():1===this.isAll&&(n.type=e.type,n.store_name=e.store_name),storeProductApi(n).then((function(t){location.href=t.data[0]})).catch((function(e){t.$Message.error(e.msg)}))},changeTemplate:function(t){},freight:function(){this.$refs.template.isTemplate=!0},onSelectTab:function(t){this.formSelection=t;var e=[];t.map((function(t){e.push(t.id)})),this.ids=e},onClose:function(){this.modals=!1},onCopy:function(){this.modals=!0},onClickTab:function(t){this.artFrom.type=t,this.columns2=d(this.columns),console.log(this.columns2),"1"!==t&&"2"!==t&&this.columns2.shift({type:"selection",width:60,align:"center"}),this.checkBox=!1,this.getDataList()},handleCheckChange:function(t){var e="",n="";this.list=[],t.forEach((function(t,r){e+="".concat(t.id,","),n+="".concat(t.title,",")})),e=e.substring(0,e.length-1),n=n.substring(0,n.length-1),this.list.push({value:e,title:n}),this.artFrom.cate_id=e,this.getDataList()},getDataList:function(){var t=this;this.loading=!0;var e={page:this.artFrom.page,size:this.artFrom.limit};Object(l["d"])(e).then((function(e){var n=e.data;t.tableList=n.data.data.map((function(t){return t})),t.total=n.data.total,t.loading=!1})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.artFrom.page=t,this.getDataList(),this.$refs.table.clearCurrentRow()},cascaderSearchs:function(t,e){this.userSearchs()},userSearchs:function(){this.artFrom.page=1,this.formSelection=[],this.getDataList()},attrTap:function(){this.attrTemplate=!0}},b(r,"changeTemplate",(function(t){this.attrTemplate=t})),b(r,"edit",(function(t){this.$store.dispatch("admin/doudian/clearInfo",null),this.$router.push({path:"/admin/doudian/add_product/"+t.id})})),b(r,"fb",(function(t){this.releaseUid=t,this.modal2=!0})),b(r,"delIt",(function(t){var e=this;this.$Modal.confirm({title:"下架提示",content:"<p>确认下架该商品?</p>",onOk:function(){var n={id:t};Object(l["k"])(n).then((function(t){e.$Message.success(t.data.msg)})).catch((function(t){e.$Message.error(t.data.msg)}))},onCancel:function(){e.$Message.info("Clicked cancel")}})})),b(r,"release",(function(t,e){var n=this,r={id:e,commit:t};Object(l["j"])(r).then((function(t){n.$Message.success(t.data.msg),n.modal2=!1,n.getDataList()})).catch((function(t){n.$Message.error(t.data.msg)}))})),b(r,"sortChanged",(function(t){this.artFrom[t.key]=t.order,this.getDataList()})),b(r,"cjProduct",(function(){this.$store.dispatch("admin/doudian/setInfoState",{})})),r)},O=v,j=(n("eb55"),n("2877")),y=Object(j["a"])(O,o,a,!1,null,"0706a3af",null);e["default"]=y.exports},"90e7":function(t,e,n){"use strict";n.d(e,"p",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"ob",(function(){return c})),n.d(e,"nb",(function(){return i})),n.d(e,"g",(function(){return u})),n.d(e,"O",(function(){return s})),n.d(e,"V",(function(){return l})),n.d(e,"R",(function(){return d})),n.d(e,"S",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"P",(function(){return m})),n.d(e,"sb",(function(){return p})),n.d(e,"T",(function(){return g})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return v})),n.d(e,"a",(function(){return O})),n.d(e,"I",(function(){return j})),n.d(e,"X",(function(){return y})),n.d(e,"H",(function(){return _})),n.d(e,"Y",(function(){return k})),n.d(e,"fb",(function(){return w})),n.d(e,"C",(function(){return x})),n.d(e,"eb",(function(){return S})),n.d(e,"m",(function(){return C})),n.d(e,"k",(function(){return A})),n.d(e,"l",(function(){return T})),n.d(e,"n",(function(){return B})),n.d(e,"o",(function(){return P})),n.d(e,"L",(function(){return $})),n.d(e,"M",(function(){return D})),n.d(e,"J",(function(){return F})),n.d(e,"K",(function(){return L})),n.d(e,"E",(function(){return E})),n.d(e,"w",(function(){return I})),n.d(e,"A",(function(){return M})),n.d(e,"z",(function(){return G})),n.d(e,"r",(function(){return U})),n.d(e,"B",(function(){return W})),n.d(e,"t",(function(){return z})),n.d(e,"y",(function(){return R})),n.d(e,"s",(function(){return q})),n.d(e,"q",(function(){return H})),n.d(e,"D",(function(){return J})),n.d(e,"f",(function(){return N})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return K})),n.d(e,"pb",(function(){return Q})),n.d(e,"qb",(function(){return V})),n.d(e,"rb",(function(){return Y})),n.d(e,"W",(function(){return Z})),n.d(e,"gb",(function(){return tt})),n.d(e,"F",(function(){return et})),n.d(e,"ib",(function(){return nt})),n.d(e,"hb",(function(){return rt})),n.d(e,"jb",(function(){return ot})),n.d(e,"kb",(function(){return at})),n.d(e,"lb",(function(){return ct})),n.d(e,"mb",(function(){return it})),n.d(e,"tb",(function(){return ut})),n.d(e,"ub",(function(){return st})),n.d(e,"G",(function(){return lt})),n.d(e,"e",(function(){return dt})),n.d(e,"vb",(function(){return ft})),n.d(e,"Z",(function(){return ht})),n.d(e,"ab",(function(){return mt})),n.d(e,"x",(function(){return pt})),n.d(e,"u",(function(){return gt})),n.d(e,"U",(function(){return bt})),n.d(e,"bb",(function(){return vt})),n.d(e,"cb",(function(){return Ot})),n.d(e,"db",(function(){return jt})),n.d(e,"v",(function(){return yt})),n.d(e,"Q",(function(){return _t})),n.d(e,"N",(function(){return kt}));var r=n("b6bd");function o(t){return Object(r["a"])({url:"setting/config/header_basics",method:"get",params:t})}function a(t,e){return Object(r["a"])({url:e,method:"get",params:t})}function c(t){return Object(r["a"])({url:t.url,method:"get",params:t.data})}function i(){return Object(r["a"])({url:"notify/sms/temp/create",method:"get"})}function u(t){return Object(r["a"])({url:"serve/login",method:"post",data:t})}function s(){return Object(r["a"])({url:"serve/info",method:"get"})}function l(t){return Object(r["a"])({url:"serve/sms/open",method:"get",params:t})}function d(t){return Object(r["a"])({url:"serve/opn_express",method:"post",data:t})}function f(t){return Object(r["a"])({url:"serve/open",method:"get",params:t})}function h(t){return Object(r["a"])({url:"serve/checkCode",method:"post",data:t})}function m(t){return Object(r["a"])({url:"serve/modify",method:"post",data:t})}function p(t){return Object(r["a"])({url:"serve/update_phone",method:"post",data:t})}function g(t){return Object(r["a"])({url:"serve/record",method:"get",params:t})}function b(t){return Object(r["a"])({url:"serve/export_temp",method:"get",params:t})}function v(){return Object(r["a"])({url:"serve/export_all",method:"get"})}function O(t){return Object(r["a"])({url:"serve/captcha",method:"post",data:t})}function j(t){return Object(r["a"])({url:"serve/register",method:"post",data:t})}function y(t){return Object(r["a"])({url:"serve/meal_list",method:"get",params:t})}function _(t){return Object(r["a"])({url:"serve/pay_meal",method:"post",data:t})}function k(t){return Object(r["a"])({url:"notify/sms/record",method:"get",params:t})}function w(){return Object(r["a"])({url:"merchant/store",method:"GET"})}function x(){return Object(r["a"])({url:"merchant/store/address",method:"GET"})}function S(t){return Object(r["a"])({url:"merchant/store/".concat(t.id),method:"POST",data:t})}function C(t){return Object(r["a"])({url:"freight/express",method:"get",params:t})}function A(){return Object(r["a"])({url:"/freight/express/create",method:"get"})}function T(t){return Object(r["a"])({url:"freight/express/".concat(t,"/edit"),method:"get"})}function B(t){return Object(r["a"])({url:"freight/express/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function P(){return Object(r["a"])({url:"freight/express/sync_express",method:"get"})}function $(t){return Object(r["a"])({url:"setting/role",method:"GET",params:t})}function D(t){return Object(r["a"])({url:"setting/role/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function F(t){return Object(r["a"])({url:"setting/role/".concat(t.id),method:"post",data:t})}function L(t){return Object(r["a"])({url:"setting/role/".concat(t,"/edit"),method:"get"})}function E(){return Object(r["a"])({url:"setting/role/create",method:"get"})}function I(t){return Object(r["a"])({url:"app/wechat/kefu",method:"get",params:t})}function M(t){return Object(r["a"])({url:"app/wechat/kefu/create",method:"get",params:t})}function G(){return Object(r["a"])({url:"app/wechat/kefu/add",method:"get"})}function U(t){return Object(r["a"])({url:"app/wechat/kefu",method:"post",data:t})}function W(t){return Object(r["a"])({url:"app/wechat/kefu/set_status/".concat(t.id,"/").concat(t.account_status),method:"PUT"})}function z(t){return Object(r["a"])({url:"app/wechat/kefu/".concat(t,"/edit"),method:"GET"})}function R(t,e){return Object(r["a"])({url:"app/wechat/kefu/record/".concat(e),method:"GET",params:t})}function q(t){return Object(r["a"])({url:"app/wechat/kefu/chat_list",method:"GET",params:t})}function H(){return Object(r["a"])({url:"notify/sms/is_login",method:"GET"})}function J(){return Object(r["a"])({url:"notify/sms/logout",method:"GET"})}function N(t){return Object(r["a"])({url:"setting/city/list/".concat(t),method:"get"})}function X(t){return Object(r["a"])({url:"setting/city/add/".concat(t),method:"get"})}function K(t){return Object(r["a"])({url:"setting/city/".concat(t,"/edit"),method:"get"})}function Q(t){return Object(r["a"])({url:"setting/shipping_templates/list",method:"get",params:t})}function V(t){return Object(r["a"])({url:"setting/shipping_templates/city_list",method:"get"})}function Y(t,e){return Object(r["a"])({url:"setting/shipping_templates/save/".concat(t),method:"post",data:e})}function Z(t){return Object(r["a"])({url:"setting/shipping_templates/".concat(t,"/edit"),method:"get"})}function tt(){return Object(r["a"])({url:"merchant/store/get_header",method:"get"})}function et(t){return Object(r["a"])({url:"merchant/store",method:"get",params:t})}function nt(t,e){return Object(r["a"])({url:"merchant/store/set_show/".concat(t,"/").concat(e),method:"put"})}function rt(t){return Object(r["a"])({url:"merchant/store/get_info/".concat(t),method:"get"})}function ot(t){return Object(r["a"])({url:"merchant/store_staff",method:"get",params:t})}function at(){return Object(r["a"])({url:"merchant/store_staff/create",method:"get"})}function ct(t){return Object(r["a"])({url:"merchant/store_staff/".concat(t,"/edit"),method:"get"})}function it(t,e){return Object(r["a"])({url:"merchant/store_staff/set_show/".concat(t,"/").concat(e),method:"put"})}function ut(t){return Object(r["a"])({url:"merchant/verify_order",method:"get",params:t})}function st(t){return Object(r["a"])({url:"merchant/verify/spread_info/".concat(t),method:"get"})}function lt(){return Object(r["a"])({url:"merchant/store_list",method:"get"})}function dt(){return Object(r["a"])({url:"setting/city/clean_cache",method:"get"})}function ft(t){return Object(r["a"])({url:"app/wechat/speechcraft",method:"get",params:t})}function ht(){return Object(r["a"])({url:"app/wechat/speechcraft/create",method:"get"})}function mt(t){return Object(r["a"])({url:"app/wechat/speechcraft/".concat(t,"/edit"),method:"get"})}function pt(t){return Object(r["a"])({url:"app/wechat/kefu/login/".concat(t),method:"get"})}function gt(t){return Object(r["a"])({url:"app/feedback",method:"get",params:t})}function bt(t){return Object(r["a"])({url:"serve/sms/sign",method:"PUT",data:t})}function vt(){return Object(r["a"])({url:"app/wechat/speechcraftcate",method:"get"})}function Ot(){return Object(r["a"])({url:"app/wechat/speechcraftcate/create",method:"get"})}function jt(t){return Object(r["a"])({url:"app/wechat/speechcraftcate/".concat(t,"/edit"),method:"get"})}function yt(t){return Object(r["a"])({url:"app/feedback/".concat(t,"/edit"),method:"get"})}function _t(){return Object(r["a"])({url:"serve/open",method:"get"})}function kt(){return Object(r["a"])({url:"serve/dump_open",method:"get"})}},cfb5:function(t,e,n){},eb55:function(t,e,n){"use strict";var r=n("cfb5"),o=n.n(r);o.a}}]);