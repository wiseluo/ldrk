(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43de7cee"],{"60d6":function(t,e,a){},"74fc":function(t,e,a){"use strict";var i=a("60d6"),s=a.n(i);s.a},9050:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Form",{ref:"formValidate",attrs:{"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{gutter:16,type:"flex"}},[a("Col",{staticStyle:{"line-height":"40px"},attrs:{xs:10,sm:12,md:16,lg:18}},[a("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("Col",{staticClass:"shtitle",attrs:{span:"5"}},[a("span",{staticClass:"shtitle"},[t._v("省市区")])]),a("Col",{attrs:{span:"17"}},[a("el-cascader",{staticClass:"mr20 shinput",staticStyle:{width:"100%","margin-left":"1%"},attrs:{options:t.dataList,props:t.optionProps,clearable:"",size:"small"},on:{change:t.chanegov},model:{value:t.gov_idchecked,callback:function(e){t.gov_idchecked=e},expression:"gov_idchecked"}})],1)],1),a("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("Col",{staticClass:"shtitle",attrs:{span:"5"}},[a("span",{staticClass:"shtitle"},[t._v(" 时间")])]),a("Col",{attrs:{span:"17"}},[a("DatePicker",{staticClass:"mr20 shinput",attrs:{editable:!1,format:"yyyy-MM-dd",type:"date",placement:"bottom-start",placeholder:"风险地区时间"},on:{"on-change":t.getFxdqTime,"on-clear":t.closeFxdqTime},model:{value:t.formValidate.start_date,callback:function(e){t.$set(t.formValidate,"start_date",e)},expression:"formValidate.start_date"}})],1)],1),a("Col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("Col",{staticClass:"shtitle",attrs:{span:"5"}},[a("span",{staticClass:"shtitle"},[t._v("风险等级")])]),a("Col",{attrs:{span:"17"}},[a("Select",{staticClass:"shinput",attrs:{placeholder:"风险等级"},model:{value:t.formValidate.risk_level,callback:function(e){t.$set(t.formValidate,"risk_level",e)},expression:"formValidate.risk_level"}},t._l(t.riskist,(function(e,i){return a("Option",{key:i,attrs:{value:e.value}},[t._v(t._s(e.name))])})),1)],1)],1)],1),a("Col",{staticClass:"ivu-text-right userFrom",attrs:{xs:14,sm:12,md:8,lg:6}},[a("Button",{staticClass:"mr15",attrs:{type:"primary",icon:"ios-search",label:"default"},on:{click:t.Searchs}},[t._v("搜索")]),a("Button",{staticClass:"ResetSearch",on:{click:function(e){return t.reset("come")}}},[t._v("重置")])],1)],1)],1),a("Form",[a("Row",{staticClass:"mt20",attrs:{type:"flex"}},[a("Button",{staticClass:"bnt mr15",attrs:{type:"primary",icon:"md-add",to:"/admin/riskdistrict/riskdistrictAdd"}},[t._v("添加风险地区")])],1)],1),a("Table",{staticClass:"mt25",attrs:{columns:t.columns1,data:t.list,"no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果",loading:t.loading,"highlight-row":""},scopedSlots:t._u([{key:"index",fn:function(e){e.row;var i=e.index;return[a("span",[t._v(" "+t._s(i+1)+" ")])]}},{key:"risk_level",fn:function(e){var i=e.row;e.index;return["middling"===i.risk_level?a("span",[t._v(" 中风险 ")]):t._e(),"low"===i.risk_level?a("span",[t._v(" 低风险 ")]):t._e(),"high"===i.risk_level?a("span",[t._v(" 高风险 ")]):t._e()]}},{key:"time",fn:function(e){var i=e.row;e.index;return[a("span",[t._v(" "+t._s(i.start_date)+" ")])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("a",{on:{click:function(e){return t.edit(i)}}},[t._v("编辑")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){return t.deleteSmping(i,"删除",s)}}},[t._v("删除")]),a("Divider",{attrs:{type:"vertical"}})]}}])}),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:t.total,current:t.formValidate.page,"show-elevator":"","show-total":"","show-sizer":"","page-size-opts":[5,10,15,20],"page-size":t.formValidate.size},on:{"on-page-size-change":t.sizeChange,"on-change":t.pageChange}})],1),a("Modal",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column"},attrs:{title:"查看二维码"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("img",{attrs:{src:t.srcList,alt:"",sizes:"",srcset:""}}),a("div",[t._v("机构名称:"+t._s(t.select_name))])])],1)],1)},s=[],n=a("a34a"),r=a.n(n),o=a("2f62"),l=a("4328"),c=a.n(l),d=a("e86e"),u=a("2e83"),m=a("4ca7"),p=a("5f87");function f(t,e,a,i,s,n,r){try{var o=t[n](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(i,s)}function h(t){return function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function r(t){f(n,i,s,r,o,"next",t)}function o(t){f(n,i,s,r,o,"throw",t)}r(void 0)}))}}function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(a,!0).forEach((function(e){y(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function y(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var k={name:"basicdata-warningplace",mixins:[m["a"]],data:function(){return{token:"Bearer "+Object(p["a"])(),modal1:!1,riskist:[{value:"low",name:"低风险"},{value:"middling",name:"中风险"},{value:"high",name:"高风险"}],fileurlL:"/adminapi/file/tmp/upload?token="+Object(p["a"])(),grid:{xl:7,lg:7,md:12,sm:24,xs:24},total:0,loading:!1,roleData:{status1:""},dataList:[],formValidate:{page:1,size:10,status:"",name:"",keyword:""},list:[],columns1:[{title:"序号",slot:"index",minWidth:50},{title:"省",key:"province",minWidth:120},{title:"市",key:"city",minWidth:120},{title:"区",key:"county",minWidth:120},{title:"街道",key:"street",minWidth:120},{title:"城市code",key:"city_code",minWidth:120},{title:"风险地区时间",slot:"time",minWidth:120},{title:"风险等级",slot:"risk_level",minWidth:120},{title:"操作",slot:"action",width:180}],FromData:null,modalTitleSs:"",ids:Number,srcList:[],excelDatamodals:!1,excelData:!0,select_name:""}},computed:v({},Object(o["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:50},labelPosition:function(){return this.isMobile?"top":"left"}}),created:function(){this.getSmpling()},methods:{closeFxdqTime:function(){},getFxdqTime:function(t){this.formValidate.start_date=t},reset:function(t){this.formValidate={keyword:"",page:1,size:20},this.gov_idchecked=[],this.getSmpling()},exportfuntion:function(){return console.log(this.token),"http://localhost:8080/adminapi/export/sampleOrgan?"+c.a.stringify(this.formValidate)},onAsyncOk:function(){var t=this,e={sampleOrgans:[]};this.excelData.map((function(t){e.sampleOrgans.push({name:t.name,street_id:t.street_id})})),e.sampleOrgans=JSON.stringify(e.sampleOrgans),sampleBbatch(e).then((function(e){t.$Message.success(e.data.msg)}))},onCancel:function(){},ok:function(){},cancel:function(){},handleSuccess:function(t,e,a){var i=this,s={path:t.data.src};sampleOrganVerify(s).then((function(t){console.log(t.data.data,"resData"),i.excelDatamodals=!0,i.excelData=t.data.data,i.getSmpling()}))},openItImage:function(t,e){this.srcList=[],this.srcList=t,this.select_name=e,this.modal1=!0},getSmpling:function(){var t=this;this.loading=!0,Object(d["h"])(this.formValidate).then((function(e){t.loading=!1,console.log(e.data),t.list=e.data.data.data,t.total=e.data.data.total,t.list.map((function(e,a){e.order=(t.formValidate.page-1)*t.formValidate.size+a+1,null!=e.street&&(e.streetOut=e.street.name)})),console.log(e.list),console.log(t.list)}))},deleteSmping:function(t,e,a){var i=this,s={title:e,num:a,url:"riskdistrict/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(s).then((function(t){console.log(t),200==t.data.code?(i.$Message.success(t.data.msg),i.list.splice(a,1),i.getSmpling()):i.$Message.error(t.data.msg)})).catch((function(t){i.$Message.error(t.data.msg)}))},onCopy:function(){},sizeChange:function(t){this.formValidate.size=t,this.getSmpling(),this.$refs.table.clearCurrentRow()},pageChange:function(t){this.formValidate.page=t,this.getSmpling()},edit:function(t){this.$router.push({path:"/admin/riskdistrict/riskdistrictAdd/".concat(t.id)});var e=window.localStorage;e.setItem("sampingAdd",JSON.stringify(t))},exports:function(){var t=h(r.a.mark((function t(){var e,a,i,s,n,o,l;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],a=[],i=[],s="",n=this.formValidate,delete n.size,delete n.page,o=JSON.parse(JSON.stringify(n)),t.next=7,this.getExcelData(o);case 7:l=t.sent,s||(s=l.filename),a.length||(a=l.filekey),e.length||(e=l.header),i=i.concat(l.export),console.log(i),Object(u["a"])(e,a,s,i);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getExcelData:function(t){return new Promise((function(e,a){exportSampleOrgan(t).then((function(t){return e(t.data)}))}))},Searchs:function(){this.formValidate.page=1,this.getSmpling()}}},b=k,_=(a("74fc"),a("2877")),x=Object(_["a"])(b,i,s,!1,null,"391dc25c",null);e["default"]=x.exports}}]);